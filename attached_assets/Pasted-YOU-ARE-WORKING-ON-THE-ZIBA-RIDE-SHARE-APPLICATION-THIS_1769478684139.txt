YOU ARE WORKING ON THE ZIBA RIDE SHARE APPLICATION.
THIS PROMPT OVERRIDES ALL PREVIOUS WALLET / TESTER LOGIC.
FOLLOW IT EXACTLY.
DO NOT ASK QUESTIONS.
DO NOT ADD EXTRA FEATURES.

====================================================
GOAL
====================================================

â€¢ Tester wallets must NEVER block testing
â€¢ ONLY Super Admin controls testers
â€¢ Separate Rider Tester and Driver Tester controls
â€¢ Automatic â‚¦45,000 test credit
â€¢ NO real payments

====================================================
STEP 1 â€” TESTER FLAG
====================================================

Add user fields:

â€¢ user.isTester = boolean
â€¢ user.testerType = "RIDER" | "DRIVER" | null

====================================================
STEP 2 â€” AUTO TEST WALLET CREATION
====================================================

On user creation OR tester assignment:

IF user.isTester === true:
  â€¢ Create wallet if missing
  â€¢ wallet.mode = "TEST"
  â€¢ wallet.currency = "NGN"

IF wallet.balance === 0:
  â€¢ Credit â‚¦45,000
  â€¢ Log transaction:
      type = TEST_CREDIT
      amount = 45000
      source = SYSTEM
      note = "Initial tester credit"

====================================================
STEP 3 â€” SUPER ADMIN MANAGEMENT CENTER CONTROLS
====================================================

ONLY IN:
Admin Dashboard â†’ Management Center
SUPER_ADMIN ONLY

Add TWO buttons:

1ï¸âƒ£ â€œAdd Rider Testerâ€
2ï¸âƒ£ â€œAdd Driver Testerâ€

----------------------------------------------------

ğŸŸ£ Add Rider Tester:
â€¢ Creates user with:
   role = RIDER
   isTester = true
   testerType = RIDER
â€¢ Auto-create + credit wallet â‚¦45,000

ğŸŸ£ Add Driver Tester:
â€¢ Creates user with:
   role = DRIVER
   isTester = true
   testerType = DRIVER
â€¢ Auto-create + credit wallet â‚¦45,000

====================================================
STEP 4 â€” ADMIN TEST WALLET CREDIT TOOL
====================================================

In Management Center â†’ Riders â†’ View Rider
AND
In Management Center â†’ Drivers â†’ View Driver

Add button:
â€œCredit Test Walletâ€

Rules:
â€¢ Visible ONLY if user.isTester === true
â€¢ Input amount
â€¢ Adds test credit
â€¢ Logs transaction:
   type = TEST_CREDIT
   source = ADMIN

====================================================
STEP 5 â€” RIDE & DRIVE TEST LOGIC
====================================================

IF rider.isTester === true:
â€¢ Ignore payment gateway
â€¢ Allow ride if wallet.balance >= fare
â€¢ Deduct TEST balance only

IF driver.isTester === true:
â€¢ Credit TEST earnings
â€¢ No payouts
â€¢ Earnings marked TEST_ONLY

====================================================
STEP 6 â€” HARD SAFETY RULES
====================================================

â€¢ Test wallets:
   - Cannot withdraw
   - Cannot connect Paystack
   - Cannot convert to real money

â€¢ ONLY Super Admin can:
   - Create testers
   - Credit tester wallets
   - Change tester status

====================================================
FINAL VALIDATION
====================================================

âœ” Rider Tester button exists ONLY in Super Admin Management Center  
âœ” Driver Tester button exists ONLY in Super Admin Management Center  
âœ” All testers start with â‚¦45,000  
âœ” No tester sees â€œInsufficient balanceâ€  
âœ” No real money involved  

END.

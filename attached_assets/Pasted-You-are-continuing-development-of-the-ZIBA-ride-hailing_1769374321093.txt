You are continuing development of the ZIBA ride-hailing app.
Phases 1â€“14 are COMPLETE and MUST NOT be modified.

IMPLEMENT PHASE 14.5 â€” TRIP COORDINATOR (INSTITUTIONAL RIDER) MODULE.

This role represents organizations that book rides for third-party beneficiaries.
It is NOT admin, NOT staff, NOT governance.

DO NOT BREAK EXISTING RIDER OR DRIVER FLOWS.
EXTEND ONLY.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ROLE DEFINITION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ROLE: TRIP_COORDINATOR

System behavior:
- Treated as a specialized Rider
- Can book trips for non-account passengers
- Is the paying entity for trips it creates

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DATABASE EXTENSIONS (Prisma)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1) Extend User model (NO breaking changes):

TripCoordinatorProfile
- id
- userId
- organizationName
- organizationType (NGO | HOSPITAL | CHURCH | SCHOOL | GOV | CORPORATE | OTHER)
- contactEmail
- contactPhone (optional)
- billingMode (SIMULATED)
- createdAt

2) Extend Trip model:

Add fields:
- passengerName (string, required for Trip Coordinator trips)
- passengerContact (string, optional)
- bookedForType (SELF | THIRD_PARTY)

Ensure:
- These fields are OPTIONAL for normal Riders
- REQUIRED only when role = TRIP_COORDINATOR

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TRIP BOOKING LOGIC
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Trip Coordinator CAN:
- Create trips for others
- Enter passenger name & notes
- Submit trips like normal riders

Trip Coordinator CANNOT:
- Assign drivers
- Modify routing
- Override dispatch logic

Trips created must store:
- createdByUserId = Trip Coordinator
- passengerName
- passengerContact
- notesForDriver

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TRIP COORDINATOR DASHBOARD
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Create a dedicated dashboard view:

ğŸ“ My Organization Trips

Features:
- List all trips created by this coordinator
- Filter by status
- View driver, fare estimate, completion state
- View receipts (read-only)
- View disputes submitted

NO access to:
- Other ridersâ€™ trips
- Driver wallets
- Admin or Directors tabs

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
BILLING & RECEIPTS (SIMULATION)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

For each completed trip:
- Fare is attributed to Trip Coordinator account
- Display under â€œOrganization Chargesâ€
- No real payment processing yet

Receipts must include:
- Organization name
- Passenger name
- Trip date
- Fare summary

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DISPUTES & FEEDBACK
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Trip Coordinator may:
- Submit disputes ONLY for trips they created
- Add notes about beneficiary experience
- Rate drivers as an organization

NO moderation privileges.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
NOTIFICATIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Trip Coordinator receives:
- Driver accepted
- Trip started
- Trip completed
- Trip cancelled
- Dispute updates

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECURITY & PERMISSIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Enforce:
- Trip Coordinator sees ONLY its own data
- Cannot access Admin, Finance, Directors
- Cannot issue refunds or mark payments paid
- Cannot change pricing or commission

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
AUDIT & SAFETY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â€¢ All actions logged to AuditLog
â€¢ No wallet manipulation in this phase
â€¢ No pricing changes
â€¢ No cross-role leakage

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FINAL CHECKS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â€¢ Rider flow unaffected
â€¢ Driver flow unaffected
â€¢ Existing trips untouched
â€¢ App compiles cleanly

IMPLEMENT PHASE 14.5 ONLY.

You are upgrading the ZIBA ride-hailing app to production-grade authentication, session persistence, and return-user experience.

STRICT REQUIREMENTS â€” DO NOT IGNORE:

=====================================
1) AUTHENTICATION & SESSION PERSISTENCE
=====================================

â€¢ After a rider or driver successfully signs up for the FIRST time, they must be automatically logged in.
â€¢ Persist authentication using a secure long-lived session token (JWT or equivalent).
â€¢ Store the token securely (SecureStorage / Keychain / HttpOnly cookie depending on platform).
â€¢ On app launch:
  - Validate token with backend.
  - If token is valid â†’ bypass signup/login and route directly into the app.
  - If token is expired or invalid â†’ route to SIGN IN screen (NOT sign up).

â€¢ Closing the app, backgrounding, phone restart â†’ user remains logged in.
â€¢ ONLY explicit LOGOUT clears the session and forces SIGN IN next time.
â€¢ App deletion + reinstall:
  - User must SIGN IN (OTP/email/phone).
  - NEVER force re-signup.
  - NEVER create duplicate accounts.
â€¢ One user identity can have multiple roles (rider, driver, director) but ONE login.

=====================================
2) RETURN USER EXPERIENCE (WELCOME BACK)
=====================================

After auto-login, DO NOT drop users directly on the map.

Instead, show a lightweight â€œWelcome Backâ€ screen ONCE per return session.

Driver version:
â€¢ Title (bold): â€œWelcome back ğŸ‘‹â€
â€¢ Body: â€œReady to earn today? Riders are nearby.â€
â€¢ Primary CTA button (large, centered, rounded): â€œGO ONLINEâ€

Rider version:
â€¢ Title (bold): â€œWelcome back ğŸ‘‹â€
â€¢ Body: â€œNeed a ride? Drivers are available around you.â€
â€¢ Primary CTA button: â€œREQUEST A RIDEâ€

â€¢ This screen must be skippable only by pressing the primary CTA.
â€¢ Display duration should feel instant (<2 seconds if auto-advance is used).

=====================================
3) GO ONLINE / REQUEST RIDE ACTION SCREEN
=====================================

After Welcome Back, show a focused action screen with ONE primary button.

â€¢ Large, bold, high-contrast rounded button.
â€¢ No clutter. No secondary actions.
â€¢ Sub-text optional:
  - Driver: â€œStart earning nowâ€
  - Rider: â€œFind a nearby driverâ€

On tap:
â€¢ Driver â†’ set status ONLINE, begin trip search.
â€¢ Rider â†’ open ride request flow.

=====================================
4) CANCELLATION & ACCEPTANCE WARNING SYSTEM
=====================================

When a user goes ONLINE, immediately evaluate behavior metrics.

If thresholds are breached, show a RESPECTFUL warning card (NOT a blocking popup).

Driver warning (example):
â€¢ Title (bold): â€œYour cancellation rate is increasingâ€
â€¢ Body:
  â€œYouâ€™ve been canceling more trips recently.
   This can affect rider trust and your access to rewards.â€
â€¢ Footer:
  â€œStaying consistent helps you earn more.â€

Rider warning (example):
â€¢ Title: â€œYour cancellations are increasingâ€
â€¢ Body:
  â€œCanceling after a driver accepts delays pickups for others.â€
â€¢ Footer:
  â€œRequest rides only when ready to go.â€

RULES:
â€¢ Do NOT shame.
â€¢ Do NOT threaten.
â€¢ Do NOT block immediately.
â€¢ Use calm amber/gold UI styling.
â€¢ Card auto-dismisses or can be swiped away.

=====================================
5) METRIC THRESHOLDS (CONFIGURABLE)
=====================================

â€¢ Driver cancellation rate warning â‰¥ configurable threshold (e.g., 12â€“15%).
â€¢ Rider cancellation rate warning â‰¥ configurable threshold.
â€¢ Acceptance rate trend detection allowed (compare last N trips).
â€¢ Show warnings only once per session to avoid spam.

=====================================
6) UI / FONT GUIDELINES
=====================================

â€¢ Use clean, modern sans-serif fonts (Uber-style weight and spacing, not copied).
â€¢ Headings: Bold
â€¢ Body text: Regular
â€¢ Numbers: Clear and prominent
â€¢ Buttons: Confident, readable, touch-friendly

=====================================
7) FINAL FLOW VALIDATION
=====================================

On app open:
1. Validate auth token
2. Auto-login if valid
3. Show Welcome Back screen
4. Show GO ONLINE / REQUEST RIDE button
5. On online:
   - Evaluate cancellation/acceptance metrics
   - Show warning card if needed
6. Enter map + trip flow

This implementation must prevent duplicate accounts, preserve user sessions, improve retention, and match modern ride-hailing UX standards.
